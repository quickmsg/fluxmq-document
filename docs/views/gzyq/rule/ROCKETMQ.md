# 消息转发至RocketMQ服务

## 场景说明
可以通过事件触发转发消息到 RocketMQ 中，从而实现对诸如设备在线状态、上下线历史等的记录

本示例为将流转数据转发至RocketMQ服务。

## 前提条件
- 拥有可使用的RocketMQ消息服务

## 配置转发规则
1. 选择左侧导航栏的“规则引擎>规则管理”，单击左上角的“+”来新建规则。
   ![rock_rule_1.png](../../../assets/images/gzyq/rule/rock_rule_1.png)

2. 配置界面参考下表参数说明，填写规则内容。以下参数取值仅为示例，填写完成后单击“保存”。

| **参数名** | **参数说明**                           |
|---------|------------------------------------|
| 规则名称    | 自定义，如mqtt-data-rocketmq。           |
| 规则数据类型  | 下拉框选择事件类型                          |
| 规则模板    | 编写数据转发SQL脚本                        |
| 规则动作类型  | 指定转发数据的接收端                         |
| 数据源     | 从已创建的数据源里选择RocketMQ实例              |
| 主题      | 转发到RocketMQ服务的主题名                  |
| key     | 指定主题的分区键名                          |
| tag     | 指定转发到RocketMQ服务二级消息类型，即主题下的消息分类、可选 |
| 是否异步    | 指定异步存储开关                           |
![rock_rule_2.png](../../../assets/images/gzyq/rule/rock_rule_2.png)

3. 管理规则实例，可以通过看板界面继续编辑、启停用、删除操作
![rock_rule_3.png](../../../assets/images/gzyq/rule/rock_rule_3.png)