(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{1156:function(t,_,v){"use strict";v.r(_);var s=v(25),a=Object(s.a)({},(function(){var t=this,_=t._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"二、压力测试说明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#二、压力测试说明"}},[t._v("#")]),t._v(" 二、压力测试说明")]),t._v(" "),_("blockquote",[_("p",[t._v("EMQX 是基于高并发的 Erlang/OTP 语言平台开发，支持百万级连接、分布式集群架构、发布订阅模式的 MQTT 消息服务器。\nFluxMQ是基于JAVA（Netty），底层采用Reactor3反应堆模型，具备低延迟，高吞吐量，高性能的分布式集群MQTT消息服务器。\n两者在开发语言上有所区别，FluxMQ采用JAVA更方便物联网平台的高度集成和快速改造。")])]),t._v(" "),_("p",[t._v("MQTT-Broker作为物联网平台的核心；在实际使用中的性能通常被用户作为判断一个服务器好坏的标准，因此本次评测重点关注其性能测试结果。")]),t._v(" "),_("h2",{attrs:{id:"测试环境"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#测试环境"}},[t._v("#")]),t._v(" 测试环境")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("服务")]),t._v(" "),_("th",[t._v("版本")]),t._v(" "),_("th",[t._v("操作系统")]),t._v(" "),_("th",[t._v("CPU")]),t._v(" "),_("th",[t._v("内存")]),t._v(" "),_("th",[t._v("数量")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("EMQX")]),t._v(" "),_("td",[t._v("4.3.3")]),t._v(" "),_("td",[t._v("Centos 7.6")]),t._v(" "),_("td",[t._v("16C")]),t._v(" "),_("td",[t._v("32G")]),t._v(" "),_("td",[t._v("1")])]),t._v(" "),_("tr",[_("td",[t._v("压测机")]),t._v(" "),_("td",[t._v("--")]),t._v(" "),_("td",[t._v("Centos 7.6")]),t._v(" "),_("td",[t._v("4C")]),t._v(" "),_("td",[t._v("8G")]),t._v(" "),_("td",[t._v("20+")])]),t._v(" "),_("tr",[_("td",[t._v("FluxMQ")]),t._v(" "),_("td",[t._v("1.0.0")]),t._v(" "),_("td",[t._v("Centos 7.6")]),t._v(" "),_("td",[t._v("16C")]),t._v(" "),_("td",[t._v("32G")]),t._v(" "),_("td",[t._v("1")])]),t._v(" "),_("tr",[_("td",[t._v("Kafka集群")]),t._v(" "),_("td",[t._v("--")]),t._v(" "),_("td",[t._v("Centos 7.6")]),t._v(" "),_("td",[t._v("48C")]),t._v(" "),_("td",[t._v("128G")]),t._v(" "),_("td",[t._v("3")])])])]),t._v(" "),_("p",[t._v("测试数据：payload 160B，1024B；")]),t._v(" "),_("h2",{attrs:{id:"测试架构说明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#测试架构说明"}},[t._v("#")]),t._v(" 测试架构说明")]),t._v(" "),_("p",[_("img",{attrs:{src:v(490),alt:"JVM"}})]),t._v(" "),_("h2",{attrs:{id:"测试目标"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#测试目标"}},[t._v("#")]),t._v(" 测试目标")]),t._v(" "),_("p",[t._v("验证 FluxMQ和EMQX 单机模式下；是否能够支撑100 万直连设备并发连接，并通过规则引擎桥接方式每秒转发至 Kafka 集群性能指标；")]),t._v(" "),_("ol",[_("li",[t._v("单机纯连接100W设备")]),t._v(" "),_("li",[t._v("单机并发吞吐能够最大稳定支撑量（TPS）")]),t._v(" "),_("li",[t._v("单机连接100W设备时，能够支撑多少并发吞吐（TPS）")])]),t._v(" "),_("h1",{attrs:{id:"三、测试结果对比"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#三、测试结果对比"}},[t._v("#")]),t._v(" 三、测试结果对比")]),t._v(" "),_("p",[t._v("测试结果："),_("strong",[t._v("FluxMQ在单机高并发高吞吐的性能和稳定性方面明显高于EMQX")]),t._v("；两者在纯连接方面性能相当。FluxMQ高并发场景因为JAVA原因对物理内存消耗较大，EMQX在高并发场景因为Erlang原因对物理内存消耗相对较小，但CPU消耗非常大。")]),t._v(" "),_("h2",{attrs:{id:"纯连接100w"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#纯连接100w"}},[t._v("#")]),t._v(" 纯连接100W")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("服务")]),t._v(" "),_("th",[t._v("运行情况")]),t._v(" "),_("th",[t._v("CPU")]),t._v(" "),_("th",[t._v("物理内存")]),t._v(" "),_("th",[t._v("备注说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("EMQX")]),t._v(" "),_("td",[t._v("100W正常")]),t._v(" "),_("td",[t._v("12%")]),t._v(" "),_("td",[t._v("40%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("FluxMQ")]),t._v(" "),_("td",[t._v("100W正常")]),t._v(" "),_("td",[t._v("5.5%")]),t._v(" "),_("td",[t._v("63%；")]),t._v(" "),_("td",[t._v("JVM内存6.58G")])])])]),t._v(" "),_("h2",{attrs:{id:"高并发吞吐"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#高并发吞吐"}},[t._v("#")]),t._v(" 高并发吞吐")]),t._v(" "),_("p",[t._v("测试单条数据payload：1024B")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("服务")]),t._v(" "),_("th",[t._v("5WTPS/5W连接")]),t._v(" "),_("th",[t._v("10WTPS/10W连接")]),t._v(" "),_("th",[t._v("15WTPS/15W连接")]),t._v(" "),_("th",[t._v("20WTPS/20W连接")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("EMQX")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("崩溃")]),t._v(" "),_("td",[t._v("崩溃")])]),t._v(" "),_("tr",[_("td",[t._v("FluxMQ")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("正常")])])])]),t._v(" "),_("p",[t._v("10WTPS下性能对比")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("服务")]),t._v(" "),_("th",[t._v("运行情况")]),t._v(" "),_("th",[t._v("CPU")]),t._v(" "),_("th",[t._v("物理内存")]),t._v(" "),_("th",[t._v("备注说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("EMQX")]),t._v(" "),_("td",[t._v("10WTPS正常")]),t._v(" "),_("td",[t._v("12%")]),t._v(" "),_("td",[t._v("40%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("FluxMQ")]),t._v(" "),_("td",[t._v("10WTPS正常")]),t._v(" "),_("td",[t._v("10%")]),t._v(" "),_("td",[t._v("64%；")]),t._v(" "),_("td",[t._v("JVM内存17.6G")])])])]),t._v(" "),_("h2",{attrs:{id:"高并发连接下高吞吐"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#高并发连接下高吞吐"}},[t._v("#")]),t._v(" 高并发连接下高吞吐")]),t._v(" "),_("p",[t._v("测试单条数据payload：1024B；")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("服务")]),t._v(" "),_("th",[t._v("5WTPS/95W连接")]),t._v(" "),_("th",[t._v("9WTPS/99W连接")]),t._v(" "),_("th",[t._v("10WTPS/100W连接")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("EMQX")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("崩溃")])]),t._v(" "),_("tr",[_("td",[t._v("FluxMQ")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("正常")]),t._v(" "),_("td",[t._v("正常")])])])]),t._v(" "),_("p",[t._v("9WTPS/99万连接下性能对比")]),t._v(" "),_("table",[_("thead",[_("tr",[_("th",[t._v("服务")]),t._v(" "),_("th",[t._v("运行情况")]),t._v(" "),_("th",[t._v("CPU")]),t._v(" "),_("th",[t._v("物理内存")]),t._v(" "),_("th",[t._v("备注说明")])])]),t._v(" "),_("tbody",[_("tr",[_("td",[t._v("EMQX")]),t._v(" "),_("td",[t._v("10WTPS正常")]),t._v(" "),_("td",[t._v("84%")]),t._v(" "),_("td",[t._v("80%")]),t._v(" "),_("td")]),t._v(" "),_("tr",[_("td",[t._v("FluxMQ")]),t._v(" "),_("td",[t._v("10WTPS正常")]),t._v(" "),_("td",[t._v("12%")]),t._v(" "),_("td",[t._v("95%；")]),t._v(" "),_("td",[t._v("JVM内存18.3G")])])])]),t._v(" "),_("h1",{attrs:{id:"四、测试详细说明"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#四、测试详细说明"}},[t._v("#")]),t._v(" 四、测试详细说明")]),t._v(" "),_("h2",{attrs:{id:"纯连接100w-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#纯连接100w-2"}},[t._v("#")]),t._v(" 纯连接100W")]),t._v(" "),_("h3",{attrs:{id:"emqx测试过程截图"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#emqx测试过程截图"}},[t._v("#")]),t._v(" EMQX测试过程截图")]),t._v(" "),_("p",[t._v("Dashboard监控\n"),_("img",{attrs:{src:v(491),alt:"JVM"}}),t._v("\nCPU使用监控\n"),_("img",{attrs:{src:v(492),alt:"JVM"}}),t._v("\n物理内存使用监控\n"),_("img",{attrs:{src:v(493),alt:"JVM"}})]),t._v(" "),_("h3",{attrs:{id:"fluxmq测试过程截图"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#fluxmq测试过程截图"}},[t._v("#")]),t._v(" FluxMQ测试过程截图")]),t._v(" "),_("p",[t._v("Dashbaord监控\n"),_("img",{attrs:{src:v(494),alt:"JVM"}})]),t._v(" "),_("p",[t._v("CPU使用监控\n"),_("img",{attrs:{src:v(495),alt:"JVM"}})]),t._v(" "),_("p",[t._v("物理内存使用监控\n"),_("img",{attrs:{src:v(496),alt:"JVM"}})]),t._v(" "),_("p",[t._v("JVM内存使用监控\n"),_("img",{attrs:{src:v(497),alt:"JVM"}})]),t._v(" "),_("h2",{attrs:{id:"_10wtps-10w连接-1024b"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_10wtps-10w连接-1024b"}},[t._v("#")]),t._v(" 10WTPS/10W连接--1024B")]),t._v(" "),_("h3",{attrs:{id:"emqx测试过程截图-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#emqx测试过程截图-2"}},[t._v("#")]),t._v(" EMQX测试过程截图")]),t._v(" "),_("p",[t._v("Dashboard监控\n"),_("img",{attrs:{src:v(498),alt:"JVM"}}),t._v("\nCPU使用监控\n"),_("img",{attrs:{src:v(499),alt:"JVM"}}),t._v("\n物理内存使用监控\n"),_("img",{attrs:{src:v(500),alt:"JVM"}})]),t._v(" "),_("h3",{attrs:{id:"fluxmq测试过程截图-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#fluxmq测试过程截图-2"}},[t._v("#")]),t._v(" FluxMQ测试过程截图")]),t._v(" "),_("p",[t._v("Dashboard监控\n"),_("img",{attrs:{src:v(501),alt:"JVM"}}),t._v("\nCPU使用监控\n"),_("img",{attrs:{src:v(502),alt:"JVM"}}),t._v("\n物理内存使用监控\n"),_("img",{attrs:{src:v(503),alt:"JVM"}}),t._v("\nJVM内存\n"),_("img",{attrs:{src:v(504),alt:"JVM"}})]),t._v(" "),_("h2",{attrs:{id:"_20wtps-20w连接-1024b"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_20wtps-20w连接-1024b"}},[t._v("#")]),t._v(" 20WTPS/20W连接 --1024B")]),t._v(" "),_("h3",{attrs:{id:"emqx测试过程截图-3"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#emqx测试过程截图-3"}},[t._v("#")]),t._v(" EMQX测试过程截图")]),t._v(" "),_("p",[t._v("系统崩溃，略")]),t._v(" "),_("h3",{attrs:{id:"fluxmq测试过程截图-3"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#fluxmq测试过程截图-3"}},[t._v("#")]),t._v(" FluxMQ测试过程截图")]),t._v(" "),_("p",[t._v("Dashboard监控\n"),_("img",{attrs:{src:v(505),alt:"JVM"}})]),t._v(" "),_("p",[t._v("CPU使用监控\n"),_("img",{attrs:{src:v(506),alt:"JVM"}}),t._v("\n物理内存使用监控\n"),_("img",{attrs:{src:v(507),alt:"JVM"}}),t._v("\nJVM内存\n"),_("img",{attrs:{src:v(508),alt:"JVM"}})]),t._v(" "),_("h2",{attrs:{id:"_9wtps-99w连接-1024b"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_9wtps-99w连接-1024b"}},[t._v("#")]),t._v(" 9WTPS/99W连接 --1024B")]),t._v(" "),_("h3",{attrs:{id:"emqx测试过程截图-4"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#emqx测试过程截图-4"}},[t._v("#")]),t._v(" EMQX测试过程截图")]),t._v(" "),_("p",[t._v("Dashboard监控\n"),_("img",{attrs:{src:v(509),alt:"JVM"}}),t._v("\nCPU使用监控\n"),_("img",{attrs:{src:v(510),alt:"JVM"}}),t._v("\n物理内存使用监控\n"),_("img",{attrs:{src:v(511),alt:"JVM"}})]),t._v(" "),_("h3",{attrs:{id:"fluxmq测试过程截图-4"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#fluxmq测试过程截图-4"}},[t._v("#")]),t._v(" FluxMQ测试过程截图")]),t._v(" "),_("p",[t._v("Dashboard监控\n"),_("img",{attrs:{src:v(512),alt:"JVM"}}),t._v("\nCPU使用监控\n"),_("img",{attrs:{src:v(513),alt:"JVM"}}),t._v("\n物理内存使用监控\n"),_("img",{attrs:{src:v(514),alt:"JVM"}}),t._v("\nJVM内存监控\n"),_("img",{attrs:{src:v(515),alt:"JVM"}})]),t._v(" "),_("h2",{attrs:{id:"_10wtps-100w连接-1024b"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_10wtps-100w连接-1024b"}},[t._v("#")]),t._v(" 10WTPS/100W连接 --1024B")]),t._v(" "),_("h3",{attrs:{id:"emqx测试过程截图-5"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#emqx测试过程截图-5"}},[t._v("#")]),t._v(" EMQX测试过程截图")]),t._v(" "),_("p",[t._v("系统崩溃，略")]),t._v(" "),_("h3",{attrs:{id:"fluxmq测试过程截图-5"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#fluxmq测试过程截图-5"}},[t._v("#")]),t._v(" FluxMQ测试过程截图")]),t._v(" "),_("p",[t._v("Dashboard监控\n"),_("img",{attrs:{src:v(516),alt:"JVM"}}),t._v("\nCPU使用监控\n"),_("img",{attrs:{src:v(517),alt:"JVM"}}),t._v("\n物理内存使用监控\n"),_("img",{attrs:{src:v(518),alt:"JVM"}}),t._v("\nJVM内存监控\n"),_("img",{attrs:{src:v(519),alt:"JVM"}})])])}),[],!1,null,null,null);_.default=a.exports},490:function(t,_,v){t.exports=v.p+"assets/img/img.44bc311e.png"},491:function(t,_,v){t.exports=v.p+"assets/img/img_1.7522740c.png"},492:function(t,_,v){t.exports=v.p+"assets/img/img_2.0ce01e4b.png"},493:function(t,_,v){t.exports=v.p+"assets/img/img_3.03c50e90.png"},494:function(t,_,v){t.exports=v.p+"assets/img/img_4.f0d54998.png"},495:function(t,_,v){t.exports=v.p+"assets/img/img_5.45ce1fa6.png"},496:function(t,_,v){t.exports=v.p+"assets/img/img_6.9f1588c5.png"},497:function(t,_,v){t.exports=v.p+"assets/img/img_7.15de53d3.png"},498:function(t,_,v){t.exports=v.p+"assets/img/img_8.dd517e43.png"},499:function(t,_,v){t.exports=v.p+"assets/img/img_9.764a0644.png"},500:function(t,_,v){t.exports=v.p+"assets/img/img_10.bf6a662a.png"},501:function(t,_,v){t.exports=v.p+"assets/img/img_11.2c89fd05.png"},502:function(t,_,v){t.exports=v.p+"assets/img/img_12.de3f743d.png"},503:function(t,_,v){t.exports=v.p+"assets/img/img_13.d6430a98.png"},504:function(t,_,v){t.exports=v.p+"assets/img/img_14.4d5db237.png"},505:function(t,_,v){t.exports=v.p+"assets/img/img_15.92c31b04.png"},506:function(t,_,v){t.exports=v.p+"assets/img/img_16.b8523a7e.png"},507:function(t,_,v){t.exports=v.p+"assets/img/img_17.884aaed4.png"},508:function(t,_,v){t.exports=v.p+"assets/img/img_18.99a633ff.png"},509:function(t,_,v){t.exports=v.p+"assets/img/img_19.55c64c17.png"},510:function(t,_,v){t.exports=v.p+"assets/img/img_20.1fc42b27.png"},511:function(t,_,v){t.exports=v.p+"assets/img/img_21.3af73025.png"},512:function(t,_,v){t.exports=v.p+"assets/img/img_22.b9d342a5.png"},513:function(t,_,v){t.exports=v.p+"assets/img/img_23.12c2426a.png"},514:function(t,_,v){t.exports=v.p+"assets/img/img_24.22dacf8f.png"},515:function(t,_,v){t.exports=v.p+"assets/img/img_25.25a1058b.png"},516:function(t,_,v){t.exports=v.p+"assets/img/img_26.33a407ef.png"},517:function(t,_,v){t.exports=v.p+"assets/img/img_27.72bddf82.png"},518:function(t,_,v){t.exports=v.p+"assets/img/img_28.b8fe62bb.png"},519:function(t,_,v){t.exports=v.p+"assets/img/img_29.f5a1e49d.png"}}]);