(window.webpackJsonp=window.webpackJsonp||[]).push([[630],{1199:function(t,a,s){"use strict";s.r(a);var e=s(25),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"持久化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#持久化"}},[t._v("#")]),t._v(" 持久化")]),t._v(" "),a("blockquote",[a("p",[t._v("持久化的数据包含如下：")])]),t._v(" "),a("ul",[a("li",[t._v("fluxmq集群中运行的数据：保留、延迟、会话消息、ACK未确认消息。")]),t._v(" "),a("li",[t._v("fluxmq集群所有的web配置持久化。")])]),t._v(" "),a("h2",{attrs:{id:"配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),a("h3",{attrs:{id:"local"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#local"}},[t._v("#")]),t._v(" LOCAL")]),t._v(" "),a("blockquote",[a("p",[t._v("本地存储，会持久化数据，重启后数据不会丢失")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" LOCAL "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MYSQL,LOCAL,MEMORY,POSTGRESQL")]),t._v("\n")])])]),a("h3",{attrs:{id:"memory"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#memory"}},[t._v("#")]),t._v(" MEMORY")]),t._v(" "),a("blockquote",[a("p",[t._v("内存模式，不会持久化数据，重启后数据会丢失")])]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" MEMORY "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MYSQL,LOCAL,MEMORY,POSTGRESQL")]),t._v("\n")])])]),a("h3",{attrs:{id:"mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[t._v("#")]),t._v(" MYSQL")]),t._v(" "),a("blockquote",[a("p",[t._v("MYSQL模式，会持久化数据，重启后数据不会丢失")])]),t._v(" "),a("p",[t._v("下载SQL语句初始化FluxMQ持久化所需要的表结构：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://fluxmq.obs.cn-east-3.myhuaweicloud.com/fluxmq-2.0.18-MYSQL.sql",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击下载初始化表SQL"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" MYSQL "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MYSQL,LOCAL")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("datasource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("mysql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3306/fluxmq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("useSSL=false\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" root\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("123456")]),t._v("\n")])])]),a("div",{staticClass:"table-2"},[a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("storeType")]),t._v(" "),a("td",[t._v("存儲类型")]),t._v(" "),a("td",[t._v("默认MEMORY")])]),t._v(" "),a("tr",[a("td",[t._v("datasource")]),t._v(" "),a("td",[t._v("选择MYSQL存储时")]),t._v(" "),a("td",[t._v("选填")])]),t._v(" "),a("tr",[a("td",[t._v("url")]),t._v(" "),a("td",[t._v("地址")]),t._v(" "),a("td",[t._v("jdbc:mysql://127.0.0.1:3306/fluxmq?useSSL=false")])]),t._v(" "),a("tr",[a("td",[t._v("username")]),t._v(" "),a("td",[t._v("用户名")]),t._v(" "),a("td",[t._v("root")])]),t._v(" "),a("tr",[a("td",[t._v("password")]),t._v(" "),a("td",[t._v("密码")]),t._v(" "),a("td",[t._v("123456")])])])])]),t._v(" "),a("h3",{attrs:{id:"postgresql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#postgresql"}},[t._v("#")]),t._v(" POSTGRESQL")]),t._v(" "),a("blockquote",[a("p",[t._v("POSTGRESQL模式，会持久化数据，重启后数据不会丢失")])]),t._v(" "),a("p",[t._v("下载SQL语句初始化FluxMQ持久化所需要的表结构：")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://fluxmq.obs.cn-east-3.myhuaweicloud.com/fluxmq-2.0.18-PG.sql",target:"_blank",rel:"noopener noreferrer"}},[t._v("点击下载初始化表SQL"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("store")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("storeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" POSTGRESQL "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# MYSQL,LOCAL,MEMORY,POSTGRESQL")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("datasource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" jdbc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("postgresql"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//127.0.0.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("5432/fluxmq\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("username")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" postgres\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("password")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fluxmq\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("schema")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" fluxmq\n")])])]),a("p",[t._v("模式不指定时候，默认为public模式。")]),t._v(" "),a("div",{staticClass:"table-2"},[a("table",[a("thead",[a("tr",[a("th",[t._v("参数名")]),t._v(" "),a("th",[t._v("描述")]),t._v(" "),a("th",[t._v("默认值")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("storeType")]),t._v(" "),a("td",[t._v("存儲类型")]),t._v(" "),a("td",[t._v("默认LOCAL")])]),t._v(" "),a("tr",[a("td",[t._v("datasource")]),t._v(" "),a("td",[t._v("选择MYSQL存储时")]),t._v(" "),a("td",[t._v("选填")])]),t._v(" "),a("tr",[a("td",[t._v("url")]),t._v(" "),a("td",[t._v("地址")]),t._v(" "),a("td",[t._v("jdbc:postgresql://127.0.0.1:5432/fluxmq")])]),t._v(" "),a("tr",[a("td",[t._v("username")]),t._v(" "),a("td",[t._v("用户名")]),t._v(" "),a("td",[t._v("root")])]),t._v(" "),a("tr",[a("td",[t._v("password")]),t._v(" "),a("td",[t._v("密码")]),t._v(" "),a("td",[t._v("123456")])]),t._v(" "),a("tr",[a("td",[t._v("schema")]),t._v(" "),a("td",[t._v("模式")]),t._v(" "),a("td",[t._v("public")])])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);