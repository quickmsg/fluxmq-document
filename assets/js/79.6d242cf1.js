(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{276:function(a,t,s){a.exports=s.p+"assets/img/img.b670d772.png"},421:function(a,t,s){a.exports=s.p+"assets/img/img_1.f0d54998.png"},422:function(a,t,s){a.exports=s.p+"assets/img/img_2.9cb0e7b8.png"},423:function(a,t,s){a.exports=s.p+"assets/img/img_3.9904dcdd.png"},424:function(a,t,s){a.exports=s.p+"assets/img/img_4.2ca16362.png"},813:function(a,t,s){"use strict";s.r(t);var e=s(25),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"连接数压测"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#连接数压测"}},[a._v("#")]),a._v(" 连接数压测")]),a._v(" "),t("p",[t("img",{attrs:{src:s(276),alt:"image.png"}})]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Dname")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$AppName")]),a._v("  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Duser.timezone")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Asia/Shanghai "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Xmx28G")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Xms28G")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:MetaspaceSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("200M  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+UseG1GC")]),a._v("   "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:MaxGCPauseMillis")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("200")]),a._v(" -Xloggc:"),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")]),a._v("$APP_HOME"),t("span",{pre:!0,attrs:{class:"token variable"}},[a._v("`")])]),a._v("/gc.log "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:GCLogFileSize")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("10M "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:NumberOfGCLogFiles")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("10")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+UseGCLogFileRotation")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+PrintGCDateStamps")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+PrintGCTimeStamps")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+PrintGCDetails")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-XX:+DisableExplicitGC")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-verbose:gc")]),a._v("\n")])])]),t("blockquote",[t("p",[a._v("仅仅部署一台MQTT节点进行压测")])]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("连接数")]),a._v(" "),t("th",[a._v("推送")]),a._v(" "),t("th",[a._v("报文大小")]),a._v(" "),t("th",[a._v("cpu")]),a._v(" "),t("th",[a._v("内存内存(最大使用)")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("1000000")]),a._v(" "),t("td",[a._v("1000/s")]),a._v(" "),t("td",[a._v("---")]),a._v(" "),t("td",[a._v("25%")]),a._v(" "),t("td",[a._v("9 G")])])])]),a._v(" "),t("p",[t("img",{attrs:{src:s(421),alt:"Dashboard"}})]),a._v(" "),t("p",[t("img",{attrs:{src:s(422),alt:"MQTT"}}),a._v(" "),t("img",{attrs:{src:s(423),alt:"JVM"}}),a._v(" "),t("img",{attrs:{src:s(424),alt:"SYSTEM"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);